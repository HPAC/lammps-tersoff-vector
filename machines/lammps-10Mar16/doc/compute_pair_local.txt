"LAMMPS WWW Site"_lws - "LAMMPS Documentation"_ld - "LAMMPS Commands"_lc :c

:link(lws,http://lammps.sandia.gov)
:link(ld,Manual.html)
:link(lc,Section_commands.html#comm)

:line

compute pair/local command :h3

[Syntax:]

compute ID group-ID pair/local input1 input2 ... :pre

ID, group-ID are documented in "compute"_compute.html command :ulb,l
pair/local = style name of this compute command :l
zero or more keywords may be appended :l
keyword = {dist} or {eng} or {force} or {fx} or {fy} or {fz} or {pN} :l
  {dist} = pairwise distance
  {eng} = pairwise energy
  {force} = pairwise force
  {fx},{fy},{fz} = components of pairwise force
  {pN} = pair style specific quantities for allowed N values :pre
:ule

[Examples:]

compute 1 all pair/local eng
compute 1 all pair/local dist eng force
compute 1 all pair/local dist eng fx fy fz
compute 1 all pair/local dist fx fy fz p1 p2 p3 :pre

[Description:]

Define a computation that calculates properties of individual pairwise
interactions.  The number of datums generated, aggregated across all
processors, equals the number of pairwise interactions in the system.

The local data stored by this command is generated by looping over the
pairwise neighbor list.  Info about an individual pairwise interaction
will only be included if both atoms in the pair are in the specified
compute group, and if the current pairwise distance is less than the
force cutoff distance for that interaction, as defined by the
"pair_style"_pair_style.html and "pair_coeff"_pair_coeff.html
commands.

The output {dist} is the distance bewteen the pair of atoms.

The output {eng} is the interaction energy for the pair of atoms.

The output {force} is the force acting between the pair of atoms,
which is positive for a repulsive force and negative for an attractive
force.  The outputs {fx}, {fy}, and {fz} are the xyz components of
{force} on atom I.

A pair style may define additional pairwise quantities which can be
accessed as {p1} to {pN}, where N is defined by the pair style.  Most
pair styles do not define any additional quantities, so N = 0.  An
example of ones that do are the "granular pair styles"_pair_gran.html
which calculate the tangential force between two particles and return
its components and magnitude acting on atom I for N = 1,2,3,4.  See
individual pair styles for detils.

The output {dist} will be in distance "units"_units.html.  The output
{eng} will be in energy "units"_units.html.  The outputs {force},
{fx}, {fy}, and {fz} will be in force "units"_units.html.  The output
{pN} will be in whatever units the pair style defines.

Note that as atoms migrate from processor to processor, there will be
no consistent ordering of the entries within the local vector or array
from one timestep to the next.  The only consistency that is
guaranteed is that the ordering on a particular timestep will be the
same for local vectors or arrays generated by other compute commands.
For example, pair output from the "compute
property/local"_compute_property_local.html command can be combined
with data from this command and output by the "dump local"_dump.html
command in a consistent way.

NOTE: For pairs, if two atoms I,J are involved in 1-2, 1-3, 1-4
interactions within the molecular topology, their pairwise interaction
may be turned off, and thus they may not appear in the neighbor list,
and will not be part of the local data created by this command.  More
specifically, this will be true of I,J pairs with a weighting factor
of 0.0; pairs with a non-zero weighting factor are included.  The
weighting factors for 1-2, 1-3, and 1-4 pairwise interactions are set
by the "special_bonds"_special_bonds.html command.  An exception is if
long-range Coulombics are being computed via the
"kspace_style"_kspace_style.html command, then atom pairs with
weighting factors of zero are still included in the neighbor list, so
that a portion of the long-range interaction contribution can be
computed in the pair style.  Hence in that case, those atom pairs will
be part of the local data created by this command.

[Output info:]

This compute calculates a local vector or local array depending on the
number of keywords.  The length of the vector or number of rows in the
array is the number of pairs.  If a single keyword is specified, a
local vector is produced.  If two or more keywords are specified, a
local array is produced where the number of columns = the number of
keywords.  The vector or array can be accessed by any command that
uses local values from a compute as input.  See "this
section"_Section_howto.html#howto_15 for an overview of LAMMPS output
options.

The output for {dist} will be in distance "units"_units.html.  The
output for {eng} will be in energy "units"_units.html.  The output for
{force} will be in force "units"_units.html.

[Restrictions:] none

[Related commands:]

"dump local"_dump.html, "compute
property/local"_compute_property_local.html

[Default:] none
